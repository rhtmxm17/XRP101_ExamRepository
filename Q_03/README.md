# 3번 문제

주어진 프로젝트 는 다음의 기능을 구현하고자 생성한 프로젝트이다.

## 기능

### 1. Turret

- Trigger 범위 내로 플레이어가 들어왔을 때 1.5초에 한번씩 플레이어를 바라보면서 총알을 발사한다
- Trigger 범위 바깥으로 플레이어가 나가면 발사를 중지한다.
- 오브젝트 풀을 사용해 총알을 관리한다.

### 2. Bullet

- 20만큼의 힘으로 전방을 향해 발사된다
- 발사 후 5초 경과 시 비활성화 처리된다
- 플레이어를 가격했을 경우 2의 데미지를 준다

### 3. Player

- 총알과 충돌했을 때, 데미지를 입는다
- 체력이 0 이하가 될 경우 효과음을 재생하며 비활성화된다.
- 플레이어의 이동은 씬 뷰를 사용해 이동하도록 한다.

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안

### Turret

FireRoutine의 플레이어를 바라보는 부분에서 Turret이 플레이어를 바라보는 방향이 아닌, `Vector3.zero`에서 플레이어를 바라보는 방향으로 회전하고 있다.  
Trigger 범위 바깥으로 플레이어가 나가면 발사를 중지하는 내용이 누락되어있다.  

### ObjectPool

`AddObject()`에서 생성한 오브젝트를 pool에 추가하고 `TakeFromPool()`에서는 pool에서 꺼내서 반환하는 구조이지만, `TakeFromPool()`에서 pool이 비어있어서 새로운 오브젝트를 생성해 반환하는 경우 `AddObject()`로 생성된 오브젝트를 pool에 추가된 채로 반환하고 있다.  

### Bullet

이동에 Rigidbody를 사용하고 있으나 Rigidbody 컴포넌트가 추가되어있지 않다.  
OnTriggerEnter에서 플레이어의 기능을 갖고있는 게임 오브젝트가 아닌, Body에 대해 `GetComponent<PlayerController>()`를 시도하고 있다.  

### Player

Player가 이동을 하는 객체임에도 Rigidbody를 갖고있지 않아 Turret의 트리거, Player의 충돌체 양쪽 모두 정적 콜라이더로 해석되어 트리거 진입시 충돌 메시지를 발생시키지 않는다.  
체력이 0 이하가 될 경우 효과음을 재생해야할 Audio Source가 함께 비활성화되기 때문에 효과음이 재생되지 않는다.  
